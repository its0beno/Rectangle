# FastAPI Rectangle Intersection API

This is a FastAPI application that implements a web API for finding rectangles that intersect with a given segment.

## Overview

The API provides an endpoint `/intersect/` that accepts a segment represented by two pairs of doubles and returns a list of rectangles that intersect the input segment by any of the edges.

## Features

- Accepts two pairs of doubles representing a segment
- Searches an internal database and returns a list of rectangles that intersect the input segment by any of the edges
- Uses SQLAlchemy for database interaction
- Supports SQLite as the default database
- Optimized for performance, considering large numbers of stored rectangles
- Includes unit and integration tests
- Easy to run and deploy

## Setup

1. Clone the repository:

    ```bash
    git clone <repository-url>
    ```

2. Install dependencies:

    ```bash
    pip install -r requirements.txt
    ```

3. Populate the database with sample data:

    ```bash
    python sample_data.py
    ```

## Usage

1. Run the FastAPI server:

    ```bash
    uvicorn main:app --reload
    ```

2. Access the API at `http://127.0.0.1:8000`.

3. Send a POST request to the `/intersect/` endpoint with a JSON payload containing the segment coordinates.

## API Documentation

The API documentation is automatically generated by FastAPI and can be accessed at `http://127.0.0.1:8000/docs` when the server is running.

## Testing

To run the tests, use the following command:

```bash
pytest
